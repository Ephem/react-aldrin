!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.SSRRenderer={})}(this,function(e){"use strict";var r=0,n=1,t=2,u=3;e.createCache=function(e){var a={};function s(e,n){var t=a[e];if(void 0!==t){var u=t[n];if(void 0!==u)return u}else t={},a[e]=t;var s={status:r,suspender:null,value:null,error:null};return t[n]=s,s}function i(e,r){var a=e;a.status=n,a.suspender=r,r.then(function(e){var r=a;r.status=t,r.suspender=null,r.value=e},function(e){var r=a;r.status=u,r.suspender=null,r.error=e})}return{invalidate:function(){e()},preload:function(e,a,o,c){var d=s(e.name,a);switch(d.status){case r:return void i(d,o(c));case n:case t:case u:return}},get:function(e,a,i,o){var c=s(e.name,a);switch(c.status){case r:return;case n:return c.suspender;case t:return c.value;case u:default:throw c.error}},read:function(e,a,o,c){var d=s(e.name,a);switch(d.status){case r:var f=o(c);throw i(d,f),f;case n:throw d.suspender;case t:return d.value;case u:default:throw d.error}},serialize:function(){return JSON.stringify(a,function(e,r){if("suspender"!==e)return r})},deserialize:function(e){a=e}}},e.createResource=function(e,r,n){var t={name:e,get:function(e){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NO_KEY";if(void 0===n)return e.get(t,u,r,u);var a=n(u);return e.get(t,a,r,u)},read:function(e){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NO_KEY";if(void 0===n)return e.read(t,u,r,u);var a=n(u);return e.read(t,a,r,u)},preload:function(e){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NO_KEY";if(void 0!==n){var a=n(u);e.preload(t,a,r,u)}else e.preload(t,u,r,u)}};return t},Object.defineProperty(e,"__esModule",{value:!0})});
